{% extends '_base.html' %}

{% load i18n %}

{% block title %}Channels list{% endblock %}

{% block content %}
  <a href="{{ public_link }}">{% trans "Public Playlist link" %}</a>
  <form>
    <input name="q" placeholder="Search channel by name" value="{{ request.GET.q }}">
    <button>{% trans "Search" %}</button>
  </form>
  <hr/>
  <a href="{% url 'new-channel' %}">{% trans "Add new channel to playlist" %}</a>
  <hr/>
  <a href="?order_by=title">{% trans "Order by title" %}</a>
  <br/>

  <tbody>
    {% for channel in channels %}
      <li>
        <a href="{{ channel.get_absolute_url }}">{{ channel.title }}</a>
        (<a href="?group={{ channel.group }}">{{ channel.group }}</a>)
        <a href="{{ channel.get_absolute_url }}">Edit/View</a>
      </li>
    {% endfor %}
  </tbody>

<!--Paginator-->
{% if is_paginated %}
  <ul class="pagination">
    {% if page_obj.has_previous %}
      <li><a href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
    {% else %}
      <li class="disabled"><span>&laquo;</span></li>
    {% endif %}
    {% for i in paginator.page_range %}
      {% if page_obj.number == i %}
        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
      {% else %}
        <li><a href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
    {% endfor %}
    {% if page_obj.has_next %}
      <li><a href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
    {% else %}
      <li class="disabled"><span>&raquo;</span></li>
    {% endif %}
  </ul>
{% endif %}
{% endblock %}
